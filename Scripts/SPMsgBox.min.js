/*  * $.SpMsgBox - Customized Jquery for model Alerts in Web Applications  *- * Copyright (c) 2014 - * Dual licensed under the MIT and GPL licenses.+ * Copyright 2014, + * Dual licensed under the MIT or GPL Version 2 licenses.+ * http://jquery.org/license  *  */
$.SPMsgBox = { msg_ctr: 0, lastPos: undefined, options: {}, settings: { inEffect: { opacity: "show" }, inEffectDuration: 600, stayTime: 3000, Msg: "", autoHide: true, type: "", position: "top-right", closeText: "", close: null, progressBar: false, bkColor1: "#062338", bkColor2: "#20282e", pBarColor: "#f5db0f", borderColor: "", textColor: null, title: "", titleColor: "#fff", hideCloseIcon: false, iconUrl: null }, JMBContainer: function (d, b, k) { k != undefined ? k : ""; b != undefined ? b : ""; var j, i, h, e, g, m, n, c; var f = { intId: null, hidetm: null, maxHtm: null }; if ($.SPMsgBox.lastPos != ("jmb-position-" + d.position)) { $("#Container").remove() } if (!$(".jmb-container").length) { j = $('<div id="Container"></div>').addClass("jmb-container").addClass("jmb-position-" + d.position).appendTo("body") } else { j = $(".jmb-container") } $.SPMsgBox.lastPos = "jmb-position-" + d.position; i = $('<div id="jpopup' + $.SPMsgBox.msg_ctr + '"></div>'); m = $("<div></div>"); c = $("<div><h1>" + k + "</h1></div>").addClass("jmb-title"); n = "linear-gradient(to bottom, " + d.bkColor1 + " 0%," + d.bkColor2 + " 100%)"; h = $("<div></div>").hide().addClass("jmb-item jmb-type-" + d.type).appendTo(j).html($("<p>").append(b)).animate(d.inEffect, d.inEffectDuration).wrap(i); if (!d.hideCloseIcon) { e = $("<div></div>").addClass("jmb-item-close").prependTo(h).click(function () { $.SPMsgBox.remove(h, d) }) } else { e = $("<div></div>").addClass("jmb-item-closetxt").prependTo(h).html(d.closeText).click(function () { $.SPMsgBox.remove(h, d) }) } g = $("<div></div>").addClass("jmb-item-image").addClass("jmb-item-image-" + d.type).prependTo(h); if (d.type == null || d.type == "") { $(".jmb-item p").css({ margin: "6px 0px 0px 0px" }) } if (d.iconUrl != null && d.iconUrl != "") { $(".jmb-item-image").css({ background: "url(" + d.iconUrl + ")" }) } $(".jmb-item").css({ background: n }); $(".jmb-type-" + d.type).css({ "border-color": d.borderColor }); $(".jmb-type-" + d.type).css({ color: d.textColor }); h.prepend(c); if (d.progressBar) { m.addClass("jmb-progress"); h.prepend(m) } if (d.stayTime > 0) { intId = setTimeout(l, d.stayTime); f.maxHtm = parseFloat(d.stayTime); f.hidetm = new Date().getTime() + f.maxHtm; if (d.progressBar) { f.intId = setInterval(a, 10) } } function a() { var o = ((f.hidetm - (new Date().getTime())) / f.maxHtm) * 100; m.width(o + "%") } function l(o) { if ($(":focus", h).length && !o) { return } clearTimeout(f.intId) } $(".jm-title h1").css({ color: d.titleColor }); $(".jmb-progress").css({ "background-color": d.pBarColor }); $.SPMsgBox.msg_ctr++; return h }, Show: function (c, b) { var a = {}; $.extend(a, $.SPMsgBox.settings, $.SPMsgBox.options); var d = $.SPMsgBox.JMBContainer(a, c, b); if (a.autoHide) { setTimeout(function () { $.SPMsgBox.remove(d, a) }, a.stayTime) } return d }, remove: function (b, a) { b.animate({ opacity: "0" }, 600, function () { b.parent().animate({ height: "0px" }, 300, function () { b.parent().remove() }) }); if (typeof (a.close) == "function") { a.close() } } };
