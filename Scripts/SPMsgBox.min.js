/*  * $.SpMsgBox - Customized Jquery for model Alerts in Web Applications  *- * Copyright (c) 2014 - * Dual licensed under the MIT and GPL licenses.+ * Copyright 2014, + * Dual licensed under the MIT or GPL Version 2 licenses.+ * http://jquery.org/license  *  */
$.SPMsgBox = { msg_ctr: 0, lastPos: undefined, options: {}, Type: { Succ: "success", Err: "error", Info: "info", War: "warning", def: "" }, settings: { inEffect: { opacity: "show" }, inEffectDuration: 600, stayTime: 3000, Msg: "", autoHide: true, position: "top-right", closeText: "", close: null, progressBar: false, bkColor1: "#062338", bkColor2: "#20282e", pBarColor: "#f5db0f", borderColor: "", textColor: null, title: "", titleColor: "#fff", hideCloseIcon: false, iconUrl: null }, JMBContainer: function (d, b, n, m) { var l = "", e = ""; if (n != undefined && n != null) { l = n } if (b != undefined && b != null) { e = b } var k, j, i, f, h, p, q, c; var g = { intId: null, hidetm: null, maxHtm: null }; if ($.SPMsgBox.lastPos != ("jmb-position-" + d.position)) { $("#Container").remove() } if (!$(".jmb-container").length) { k = $('<div id="Container"></div>').addClass("jmb-container").addClass("jmb-position-" + d.position).appendTo("body") } else { k = $(".jmb-container") } $.SPMsgBox.lastPos = "jmb-position-" + d.position; j = $('<div id="jpopup' + $.SPMsgBox.msg_ctr + '"></div>'); p = $("<div></div>"); c = $("<div><h1>" + l + "</h1></div>").addClass("jmb-title"); q = "linear-gradient(to bottom, " + d.bkColor1 + " 0%," + d.bkColor2 + " 100%)"; i = $("<div></div>").hide().addClass("jmb-item jmb-type-" + m).appendTo(k).html($("<p>").append(e)).animate(d.inEffect, d.inEffectDuration).wrap(j); if (!d.hideCloseIcon) { f = $("<div></div>").addClass("jmb-item-close").prependTo(i).click(function () { $.SPMsgBox.remove(i, d) }) } else { f = $("<div></div>").addClass("jmb-item-closetxt").prependTo(i).html(d.closeText).click(function () { $.SPMsgBox.remove(i, d) }) } h = $("<div></div>").addClass("jmb-item-image").addClass("jmb-item-image-" + m).prependTo(i); if (d.iconUrl != null && d.iconUrl != "") { $(".jmb-item-image").css({ background: "url(" + d.iconUrl + ")" }) } $(".jmb-item").css({ background: q }); $(".jmb-type-" + m).css({ "border-color": d.borderColor }); $(".jmb-type-" + m).css({ color: d.textColor }); i.prepend(c); if (d.progressBar) { p.addClass("jmb-progress"); i.prepend(p) } if (d.stayTime > 0) { intId = setTimeout(o, d.stayTime); g.maxHtm = parseFloat(d.stayTime); g.hidetm = new Date().getTime() + g.maxHtm; if (d.progressBar) { g.intId = setInterval(a, 10) } } function a() { var r = ((g.hidetm - (new Date().getTime())) / g.maxHtm) * 100; p.width(r + "%") } function o(r) { if ($(":focus", i).length && !r) { return } clearTimeout(g.intId) } $(".jm-title h1").css({ color: d.titleColor }); $(".jmb-progress").css({ "background-color": d.pBarColor }); $.SPMsgBox.msg_ctr++; return i }, Show: function (Message, Title) { var a = {}; $.extend(a, $.SPMsgBox.settings, $.SPMsgBox.options); var d = $.SPMsgBox.JMBContainer(a, Message, Title, $.SPMsgBox.Type.def); $.SPMsgBox.Clearout(a, d); return d }, ShowSuccess: function (Message, Title) { var a = {}; $.extend(a, $.SPMsgBox.settings, $.SPMsgBox.options); var d = $.SPMsgBox.JMBContainer(a, Message, Title, $.SPMsgBox.Type.Succ); $.SPMsgBox.Clearout(a, d); return d }, ShowWarning: function (Message, Title) { var a = {}; $.extend(a, $.SPMsgBox.settings, $.SPMsgBox.options); var d = $.SPMsgBox.JMBContainer(a, Message, Title, $.SPMsgBox.Type.War); $.SPMsgBox.Clearout(a, d); return d }, ShowError: function (Message,Title) { var a = {}; $.extend(a, $.SPMsgBox.settings, $.SPMsgBox.options); var d = $.SPMsgBox.JMBContainer(a, Message, Title, $.SPMsgBox.Type.Err); $.SPMsgBox.Clearout(a, d); return d }, ShowInfo: function (Message,Title) { var a = {}; $.extend(a, $.SPMsgBox.settings, $.SPMsgBox.options); var d = $.SPMsgBox.JMBContainer(a, Message, Title, $.SPMsgBox.Type.Info); $.SPMsgBox.Clearout(a, d); return d }, Clearout: function (a, b) { if (a.autoHide) { setTimeout(function () { $.SPMsgBox.remove(b, a) }, a.stayTime) } }, remove: function (b, a) { b.animate({ opacity: "0" }, 600, function () { b.parent().animate({ height: "0px" }, 300, function () { b.parent().remove() }) }); if (typeof (a.close) == "function") { a.close() } } };